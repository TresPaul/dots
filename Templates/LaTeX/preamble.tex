\documentclass[11pt,a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[a4paper,
            margin=2.5cm]{geometry}
\usepackage[onehalfspacing]{setspace}
\usepackage[british]{babel}
%\usepackage{blindtext}
\usepackage{csquotes}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage[bookmarks,
            colorlinks=true,
            allcolors=black,
            breaklinks]{hyperref}
\usepackage[inline]{enumitem}
\usepackage{pdfpages}
%\usepackage{fontawesome5}
\usepackage[sfdefault,light]{noto}
\usepackage[T1]{fontenc}

%\usepackage{fancyhdr}
%\pagestyle{fancy}
%\fancyhf{}
%\renewcommand{\headrulewidth}{0pt}
%\rfoot{\thepage}

% for indenting paragraphs
%\usepackage{changepage}
% takes optional argument to override
% from https://tex.stackexchange.com/a/35934
%\newenvironment{parindent}[1][2cm]{\begin{adjustwidth}{#1}{}}{\end{adjustwidth}}
% small indented
%\newenvironment{smallandindent}[1][1cm]{\small\begin{adjustwidth}{#1}{}}{\end{adjustwidth}}

\usepackage[activate={true,nocompatibility},
            final,
            tracking=true,
            kerning=true,
            spacing=true]{microtype}
\microtypecontext{spacing=nonfrench}
% decrease spacing between small caps
\SetTracking{encoding={*}, shape=sc}{40}

\usepackage[backend=biber,
            style=authoryear-icomp,
            sorting=nyt,
            language=english,
            isbn=true,
            eprint=false,
            urldate=iso,
            date=iso,
            seconds=true,
            giveninits=true]{biblatex}
\addbibresource{bibliography.bib}

% BIBLATEX CUSTOMISATION to approximate Harvard-Stellenbosch
% add comma in parencite
\DeclareDelimFormat{nameyeardelim}{\addcomma\space}
% increase spacing between bibliography entries
\setlength\bibitemsep{5pt}
% use colon for parencite
\renewcommand*{\postnotedelim}{\addcolon}
\DeclareFieldFormat{postnote}{#1}
\DeclareFieldFormat{multipostnote}{#1}
% remove parentheses around year in bibliography
% from https://tex.stackexchange.com/a/428193
\usepackage{xpatch}
\xpatchbibmacro{date+extradate}{%
  \printtext[parens]%
}{%
  \setunit*{\addperiod\space}%
  \printtext%
}{}{}
% visited on in square brackets
\DeclareFieldFormat{urldate}{[#1]}
% last name first
\DeclareNameAlias{sortname}{family-given}
% remove "in:"
\renewbibmacro{in:}{}
% break long urls
\setcounter{biburllcpenalty}{100}
\setcounter{biburlucpenalty}{100}
\setcounter{biburlnumpenalty}{100}
% use origdate first
%\DeclareLabeldate{%
%  \field{origdate}
%  \field{date}
%  \field{year}
%  \field{eventdate}
%  \field{urldate}
%  \literal{nodate}
%}
